<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Fichajes
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Fichajes</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-searchbar (ionInput)="changeTextFilter($event)" ></ion-searchbar>
  <ion-row>
    <ion-col>
      <ion-label>Fecha mínima</ion-label>
      <ion-datetime-button datetime="min-date"></ion-datetime-button>
    </ion-col>
    <ion-col>
      <ion-label>Fecha máxima</ion-label>
      <ion-datetime-button datetime="max-date"></ion-datetime-button>
    </ion-col>
  </ion-row>
  
  <ion-list>
    @if ( fichajesFiltrados && fichajesFiltrados.length > 0 ) {
      @for (fichaje of fichajesFiltrados; track fichaje.IdFichaje) {
        <app-fichaje [fichaje]="fichaje" ></app-fichaje>
      }
    } @else {
      <p class="text-center">Todavía no hay fichajes</p>
    }
  </ion-list>
</ion-content>

<ion-modal [keepContentsMounted]="true" >
  <ng-template>
    <ion-datetime (ionChange)="changeMinDate($event)" id="min-date" presentation="date" [preferWheel]="true"></ion-datetime>
  </ng-template>
</ion-modal>

<ion-modal [keepContentsMounted]="true" >
  <ng-template>
    <ion-datetime (ionChange)="changeMaxDate($event)" id="max-date" presentation="date" [preferWheel]="true"></ion-datetime>
  </ng-template>
</ion-modal>
